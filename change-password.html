<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<script src="https://cdn.jsdelivr.net/npm/skapi-js@latest/dist/skapi.js"></script>
<script src="service.js"></script>
<link rel="stylesheet" href="main.css" />

<script>
    skapi.getProfile().then((user) => {
        if (!user) {
            location.href = "index.html";
        }
    });
</script>

<main>
    <a href="update-profile.html">Back</a>

    <form
        action="update-profile.html"
        onsubmit="
        skapi.changePassword(event).then(()=>alert('Password has been changed.')).catch(err=>alert(err.message));
        "
    >
        <h1>Change Password</h1>

        <label for="current_password">Current Password</label>
        <input
            type="password"
            name="current_password"
            placeholder="At least 6 characters"
        />

        <label for="new_password">New Password</label>
        <input
            type="password"
            name="new_password"
            placeholder="At least 6 characters"
        />

        <button type="submit">Change</button>
    </form>
</main>
